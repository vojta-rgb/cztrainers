/* =============== Theme tokens =============== */
:root {
  --primary: #0072CE;
  --dark: #111;
  --light: #f4f4f4;
  --white: #fff;
  --radius: 12px;
  --shadow: 0 4px 12px rgba(0,0,0,.1);

  /* Card tokens */
  --card-radius: 16px;
  --card-shadow: 0 10px 24px rgba(0,0,0,.08);
  --card-shadow-hover: 0 14px 32px rgba(0,0,0,.12);
  --header-h: 84px;
  --avatar-size: 108px;
}

/* =============== Base =============== */
body {
  font-family: 'Inter', sans-serif;
  background: var(--light);
  color: var(--dark);
  min-height: 100vh;
  position: relative;
  transition: background .3s, color .3s;
}
body::before {
  content: "";
  position: fixed; inset: 0;
  background: url("https://github.com/vojta-rgb/cztrainers/raw/main/dumbell%20art.png") repeat 0 0 / 200px;
  opacity: .08; z-index: -1;
}
body.dark { background:#121212; color:var(--light); }
body.dark::before { opacity:.04; }

.container { max-width:1200px; margin:0 auto; padding:2rem; }
h1 { text-align:center; margin-bottom:2rem; color:var(--primary); }

/* =============== Search / toolbar =============== */
.toolbar{ display:flex; align-items:center; gap:.75rem; flex-wrap:wrap; margin:1rem 0; }
.search-wrap{
  --filtry-w:112px; --filtry-gap:10px;
  width:clamp(280px, 88vw, 1100px);
  margin:0 auto 1.25rem; position:relative; display:flex; align-items:stretch;
}
#search{
  flex:1 1 auto; height:36px; padding:.7rem 1rem;
  padding-right:calc(var(--filtry-w) + var(--filtry-gap) + 12px);
  border-radius:var(--radius); border:1px solid #ccc; box-shadow:var(--shadow);
  background:#fff;
}
.filters-toggle{
  position:absolute; top:50%; right:6px; transform:translateY(-50%);
  width:var(--filtry-w); height:40px; padding:0 14px; border-radius:9999px;
  border:1px solid #959596; background:#fff; font-weight:600; cursor:pointer; box-shadow:var(--shadow);
  transition:transform .15s, background .2s, color .2s;
}
.filters-toggle:hover{ transform:translateY(-50%) scale(1.03); }
.filters-toggle:active{ transform:translateY(-50%) scale(.98); }
body.dark .filters-toggle{ background:#181818; color:var(--light); border-color:#2b2b2b; }
@media (max-width:1000px){ .search-wrap{ width:calc(100% - 32px); } }
@media (max-width:400px){
  .search-wrap{ --filtry-w:86px; --filtry-gap:8px; }
  #search{ height:44px; font-size:16px; padding-right:calc(var(--filtry-w) + var(--filtry-gap) + 10px); }
  .filters-toggle{ height:36px; padding:0 10px; }
}

/* Active filter chips */
.chips{ display:flex; gap:.5rem; flex-wrap:wrap; }
.chip{ display:inline-flex; align-items:center; gap:.35rem; padding:.35rem .6rem; border-radius:999px; background:#eef2ff; font-size:.9rem; }
.chip button{ border:0; background:transparent; cursor:pointer; font-weight:700; }

/* =============== Filters panel =============== */
#filtersPanel{
  max-width:1200px; margin:1rem auto 2rem; padding:1rem;
  border-radius:var(--radius); background:#fff; box-shadow:var(--shadow);
}
body.dark #filtersPanel{ background:#1b1b1b; }

.filters-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:1rem; }
fieldset{ border:0; background:#fff; padding:1rem; border-radius:10px; box-shadow:0 1px 0 rgba(0,0,0,.05); }
fieldset legend{ font-weight:600; margin-bottom:.5rem; }
body.dark fieldset{ background:#181818; }

.number-row{ display:flex; gap:.5rem; }
.number-row input{ width:100%; }

.filters-actions{ display:flex; gap:.75rem; justify-content:flex-end; margin-top:.5rem; }
.btn{ padding:.6rem .9rem; border-radius:.6rem; border:1px solid #ddd; background:#fff; cursor:pointer; }
.btn.primary{ background:#111827; color:#fff; border-color:#111827; }

.small{ font-size:.85rem; color:#6b7280; }

/* =============== Legacy simple cards (back-compat) =============== */
.cards{ display:grid; gap:1.5rem; grid-template-columns:repeat(auto-fit, minmax(250px,1fr)); }
.card{
  display:block; background:#fff; border-radius:var(--radius); box-shadow:var(--shadow);
  overflow:hidden; text-decoration:none; color:inherit;
  transform:translateY(20px); opacity:0; animation:fadeInUp .5s forwards;
  transition:transform .3s, filter .3s;
}
.card:hover{ transform:scale(1.05); filter:brightness(1.05); }
body.dark .card{ background:#1e1e1e; color:var(--light); }
@keyframes fadeInUp{ to{ transform:translateY(0); opacity:1; } }
.profile-pic{ width:100%; aspect-ratio:1/1; object-fit:cover; border-radius:12px; }
.card-info{ padding:1rem; }
.card-info h3{ margin-bottom:.5rem; }

/* =============== Modern trainer cards =============== */
.trainer-card{
  display:block; position:relative; overflow:hidden;
  border-radius:var(--card-radius); background:#fff; color:inherit;
  box-shadow:var(--card-shadow); text-decoration:none;
  transition:transform .18s, box-shadow .18s;
}
.trainer-card:hover{ transform:translateY(-2px); box-shadow:var(--card-shadow-hover); }

.trainer-card .card-header{
  height:var(--header-h);
  background:linear-gradient(135deg, var(--primary), #2c72cc);
}
.trainer-card[data-accent="fit"]        .card-header{ background:linear-gradient(135deg,#0072CE,#2c72cc); }
.trainer-card[data-accent="strength"]   .card-header{ background:linear-gradient(135deg,#0057b7,#1b6ee2); }
.trainer-card[data-accent="yoga"]       .card-header{ background:linear-gradient(135deg,#4f46e5,#6366f1); }
.trainer-card[data-accent="rehab"]      .card-header{ background:linear-gradient(135deg,#0ea5e9,#0284c7); }
.trainer-card[data-accent="nutrition"]  .card-header{ background:linear-gradient(135deg,#06b6d4,#0ea5e9); }

.trainer-card .avatar-wrap{
  position:absolute; left:50%; top:calc(var(--header-h) - var(--avatar-size)/2);
  transform:translateX(-50%); width:var(--avatar-size); height:var(--avatar-size);
  border-radius:50%; padding:3px; background:#fff; box-shadow:0 6px 18px rgba(0,0,0,.12);
}
.trainer-card .avatar{ width:100%; height:100%; border-radius:50%; object-fit:cover; }

.trainer-card .card-body{ padding:calc(var(--avatar-size)/2 + 22px) 16px 16px; text-align:center; }
.trainer-card .name{ margin:0 0 6px; font-weight:800; font-size:1.08rem; }
.trainer-card .meta{
  display:flex; justify-content:center; gap:.5rem; flex-wrap:wrap;
  font-size:.92rem; color:#6b7280; margin-bottom:.6rem;
}
.trainer-card .meta .sep{ opacity:.55; }
.trainer-card .tags{ display:flex; justify-content:center; gap:.5rem; flex-wrap:wrap; }
.trainer-card .tag{
  font-weight:600; font-size:.85rem; white-space:nowrap;
  padding:.28rem .6rem; border-radius:999px;
  background:rgba(0,114,206,.12); color:#0b63b5; border:1px solid rgba(0,114,206,.22);
}
.trainer-card .tag-more{ background:#eef2ff; border-color:#dbe3ff; color:#334155; }

body.dark .trainer-card{ background:#161616; box-shadow:0 10px 24px rgba(0,0,0,.35); }
body.dark .trainer-card .avatar-wrap{ background:#0f0f0f; }
body.dark .trainer-card .meta{ color:#a1a1aa; }
body.dark .trainer-card .tag{ background:rgba(44,114,204,.22); color:#cfe0ff; border-color:rgba(44,114,204,.3); }
body.dark .trainer-card .tag-more{ background:#222; color:#d1d5db; border-color:#2d2d2d; }

@media (max-width:420px){ :root{ --avatar-size:96px; --header-h:78px; } }

/* =============== Profile page blocks =============== */
.profile-container{
  display:flex; flex-wrap:wrap; gap:2rem; padding:2rem;
  background:#fff; border-radius:var(--radius); box-shadow:var(--shadow); margin-top:2rem;
}
body.dark .profile-container{ background:#1e1e1e; color:#fff; }
.profile-left{ flex:1 1 250px; max-width:300px; text-align:center; }
.profile-right{ flex:2 1 400px; display:flex; flex-direction:column; gap:1rem; }
.profile-avatar{ width:100%; aspect-ratio:1/1; object-fit:cover; border-radius:var(--radius); margin-bottom:1rem; }
@media (max-width:768px){
  .profile-container{ flex-direction:column; align-items:center; }
  .profile-left,.profile-right{ max-width:100%; }
}
.pricing-text,.bio-text{ white-space:pre-line; }
.tag-list{ display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0; }
.tag{ background:var(--primary); color:#fff; padding:.3rem .7rem; border-radius:20px; font-size:.9rem; white-space:nowrap; }
body.dark .tag{ background:#444; color:var(--light); }
.socials-container{ display:flex; flex-wrap:wrap; gap:8px; margin-top:8px; }
.social-tag{ background:#0077ff; color:#fff; padding:4px 8px; border-radius:6px; font-size:.9rem; text-decoration:none; }
.social-tag:hover{ background:#005fd1; }

/* =============== Utilities =============== */
.loader{ text-align:center; padding:2rem; font-size:1.2rem; color:var(--primary); }
.toast{
  position:fixed; bottom:20px; right:20px;
  background:#333; color:#fff; padding:10px 20px; border-radius:8px;
  opacity:0; transform:translateY(20px); transition:opacity .4s, transform .4s; z-index:9999;
}
.toast.show{ opacity:1; transform:translateY(0); }

/* Ensure the search row never exceeds the viewport width */
.search-wrap,
#search {
  box-sizing: border-box;
  max-width: 100%;
}

@media (max-width: 767.98px) {
  .search-wrap { width: 100% !important; margin: 0 auto 1.25rem; }
}

/* Desktop (restore the old look) */
@media (min-width: 768px) {
  .search-wrap{
    width: clamp(280px, 88vw, 1100px);
    margin: 0 auto 1.25rem;
    position: relative;
    display: flex;
    align-items: stretch;
  }
  #search{
    height: 60px;
    padding: 0.7rem 1rem;
    /* leave room for the overlay button */
    padding-right: calc(var(--filtry-w) + var(--filtry-gap) + 12px);
  }
  .filters-toggle{
    position: absolute;
    top: 50%;
    right: 6px;
    transform: translateY(-50%);
    width: var(--filtry-w);
    height: 44px;
    padding: 0 14px;
    border-radius: 9999px;
  }
}